<script src="../../pages/register/register.component.ts"></script>
<div class="pp-table">
  <div style="margin-bottom: 16px;">
    <nz-button-group>
      <button nz-button  [nzType]="'default'" [nzSize]="'large'" (click)="add()"><span><i class="anticon anticon-file-add"></i> 新增</span></button>
      <button nz-button  [nzType]="'default'" [nzSize]="'large'" (click)="_multiDelete()"><span><i class="anticon anticon-delete"></i> 删除</span></button>
      <button nz-button  [nzType]="'default'" [nzSize]="'large'" (click)="_refreshData()"><span><i class="anticon anticon-reload"></i> 刷新</span></button>
    </nz-button-group>
    <!--<span style="margin-left: 8px;" *ngIf="_checkedNumber">Selected {{_checkedNumber}} items</span>-->
    <div class="display-type">
      <span class="anticon anticon-appstore"></span>
      <span class="anticon anticon-appstore"></span>
    </div>
  </div>
  <nz-table #nzTable [nzDataSource]="_dataSet" nzShowSizeChanger [(nzPageIndex)]="currentPageIndex" [nzPageSize]="pageSize" (nzDataChange)="_displayDataChange($event)" (nzPageIndexChange)="_refreshStatus()" (nzPageSizeChange)="_refreshStatus()">
    <thead nz-thead>
    <tr>
      <th nz-th nzCheckbox>
        <label nz-checkbox [(ngModel)]="_allChecked" [nzIndeterminate]="_indeterminate" (ngModelChange)="_checkAll($event)">
        </label>
      </th>
      <th nz-th  *ngFor="let item of _titles"><span>{{item.name}}</span></th>
      <th nz-th><span>操作</span></th>
    </tr>
    </thead>
    <tbody nz-tbody>
    <tr nz-tbody-tr *ngFor="let data of nzTable.data">
      <td nz-td nzCheckbox>
        <label nz-checkbox [(ngModel)]="data.checked" (ngModelChange)="_refreshStatus($event)">
        </label>
      </td>
      <td nz-td *ngFor="let item of _titles">
        <span *ngIf="item.type!=='img'">{{data[item.key]}}</span>
        <img [src]="'../../assets/images/ege.jpg'" alt="" *ngIf="item.type=='img'">
      </td>
      <td nz-td class="action" style="width:240px;">
        <div *ngIf="actionType=='type1'">
          <!--<button nz-button [nzType]="'primary'" nzGhost>
            <span><p style="color: #2FC3C3">查看</p></span>
          </button>-->
          <button nz-button nzGhost style="background:#00CCCC;font-size:12px;text-align:center;" (click)="singleEdit($event,data)" >
            <span>修改</span>
          </button>
          <button nz-button nzGhost style="background:#E75261;font-size:12px;text-align:center;" (click)="singleDelete($event,data)">
            <!-- 标签嵌套错误  p标签应该放在外面-->
            <span>删除</span>
          </button>
        </div>
        <div *ngIf="actionType=='type2'">
          <button nz-button [nzType]="'primary'">
            <span>冻结</span>
          </button>
          <button nz-button [nzType]="'primary'">
            <span (click)="singleEdit($event,data)">解冻</span>
          </button>
        </div>
        <div *ngIf="actionType=='type3'">
          <button [routerLink]="['/register']"  [queryParams]="{id:data.id}" nz-button nzGhost style="background:#00CCCC;font-size:12px;text-align:center;"  >
            <span>入库</span>
          </button>
          <button nz-button nzGhost style="background:#00CCCC;font-size:12px;text-align:center;" (click)="singleEdit($event,data)" >
            <span>修改</span>
          </button>
          <button nz-button nzGhost style="background:#E75261;font-size:12px;text-align:center;" (click)="singleDelete($event,data)">
            <!--标签嵌套错误  p标签应该放在外面-->
            <span>删除</span>
          </button>
        </div>
      </td>
    </tr>
    </tbody>
  </nz-table>
  <div class="pp-table-info">显示第{{pageSize*(currentPageIndex-1)+1}}条到第{{pageSize*(currentPageIndex-1)+pageSize}}条记录
    <!--每页显示-->
    <!--<nz-dropdown (nzVisibleChange)="_pageSizeChange(visible)">-->
    <!--<button nz-button nz-dropdown ><span>10</span> <i class="anticon anticon-down"></i></button>-->
    <!--<ul nz-menu>-->
    <!--<li nz-menu-item>-->
    <!--<a rel="noopener noreferrer" href="javascript:void(0);">20</a>-->
    <!--</li>-->
    <!--<li nz-menu-item>-->
    <!--<a rel="noopener noreferrer" href="javascript:void(0);">30</a>-->
    <!--</li>-->
    <!--<li nz-menu-item>-->
    <!--<a rel="noopener noreferrer" href="javascript:void(0);">50</a>-->
    <!--</li>-->
    <!--</ul>-->
    <!--</nz-dropdown>条记录</div>-->
  </div>
</div>




